(()=>{"use strict";class t{constructor(t){this.timespanStr=t.toLowerCase(),this._parseTimespan(),this._setTotalSeconds()}_parseTimespan(){const t=this.timespanStr.match(/(?:(?<h>\d{0,2})h)?(?:(?<m>\d{0,2})m)?(?:(?<s>\d{0,2})s)?/);this.hours=parseInt(t.groups.h)||0,this.minutes=parseInt(t.groups.m)||0,this.seconds=parseInt(t.groups.s)||0}_setTotalSeconds(){this.totalSeconds=3600*this.hours+60*this.minutes+this.seconds}getSizeInMilliSeconds(){return 1e3*this.totalSeconds}}class e{constructor(t){this.duration=t,this._setTargetTimestamp()}_setTargetTimestamp(){this.targetTimestamp=Date.now()+1e3*parseInt(this.duration)}getRemainingSeconds(){return this.targetTimestamp-Date.now()}getFormattedRemainingTime(t){const e=new Date(this.getRemainingSeconds()),s={d:e.getDate(),hh:e.getHours()<10?"0"+e.getHours():e.getHours(),h:e.getHours(),mm:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),m:e.getMinutes(),ss:e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),s:e.getSeconds()};for(const[e,i]of Object.entries(s))t=t.replaceAll(e,i);return t}}class s{constructor(s){this.timer=new e(s.getAttribute("countdown-duration")),this.tick=new t(s.getAttribute("countdown-tick-size")||"1s"),this.element=s,this.actionName=s.getAttribute("countdown-handler"),this.format=s.getAttribute("countdown-format"),this.render(),setInterval((()=>{this.timer.getRemainingSeconds()<=0?!this.actionName||window[this.actionName]():this.render()}),this.tick.getSizeInMilliSeconds())}render(){this.element.innerHTML=this.timer.getFormattedRemainingTime(this.format)}abort(){}}document.querySelectorAll("[autoCountdown]").forEach((t=>{new s(t)}))})();